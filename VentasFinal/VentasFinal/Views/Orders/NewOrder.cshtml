@model VentasFinal.ViewModels.OrderView

@{
    ViewBag.Title = "NewOrder";
}

<h2>Nueva Orden</h2>
@using (Html.BeginForm("NewOrder", "Orders", FormMethod.Post)) 
{
    @Html.AntiForgeryToken()
    
    <div class="form-horizontal">
        <div class="form-group">
            @Html.LabelFor(model => model.Customer, "Clientes", new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.DropDownList("CustomerID", String.Empty)
                @Html.ValidationMessageFor(model => model.Customer.CustomerID)
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Employee, "Empleados", new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.DropDownList("EmployeeID", String.Empty)
                @Html.ValidationMessageFor(model => model.Employee.EmployeeID)
            </div>
        </div>

        @Html.ActionLink("Add Product", "AddProduct", new { }, new { @class="btn btn-primary"})

        <input type="submit" value="Save Order" id="NewOrder" class="btn btn-success"/>

    </div>
    
    <table class="table">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.ProductOrder.Description)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ProductOrder.Price)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ProductOrder.Quantity)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ProductOrder.Value)
            </th>
        </tr>

        @for (int i = 0; i < Model.Products.Count; i++ )
        {
			 <tr>
                 <td>
                     @Html.DisplayNameFor(modelItem => Model.Products[i].Description)
                 </td>
              <td>
                  @Html.DisplayNameFor(modelItem => Model.Products[i].Price)
              </td>
              <td>
                  @Html.DisplayNameFor(modelItem => Model.Products[i].Quantity)
              </td>
              <td>
                  @Html.DisplayNameFor(modelItem => Model.Products[i].Value)
              </td>
             </tr>
        }
    </table>
}

